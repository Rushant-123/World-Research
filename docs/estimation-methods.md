# Data Estimation Methodology

## Overview

This document explains how estimated values are calculated for supply chain entities not in the top 100 critical companies. Our approach prioritizes transparency and plausibility over precision, using industry-standard heuristics to generate realistic estimates.

## Philosophy

The World Research database uses a **hybrid approach**:
- **Top 100 critical companies**: Real data from verified sources (annual reports, company websites, industry databases)
- **Remaining entities**: Plausible estimates using rule-based algorithms

All estimated data is clearly marked with a `data_quality: "estimated"` field and displays an "~ Estimated" badge in the user interface. This ensures transparency about which information is verified versus calculated.

## Data Quality Indicators

### Verified Data
- Field: `data_quality: "real"`
- Badge: ✓ Verified (green)
- Additional field: `last_verified: "YYYY-MM-DD"`
- Sources documented in `data/real-data-sources.json`

### Estimated Data
- Field: `data_quality: "estimated"`
- Badge: ~ Estimated (orange)
- Generated by algorithms described below
- Subject to replacement as real data becomes available

## Product-Level Estimates

### Lead Times (lead_time_days)

**Purpose**: Estimate how long it takes to manufacture and deliver a product.

**Formula**: Base Manufacturing Time + Shipping Time

**Base Manufacturing Times** (determined by product type and price):

| Product Category | Days | Detection Logic |
|-----------------|------|-----------------|
| Raw materials | 7 | Price < $10 |
| Basic components | 14 | Default for products $10-$100 |
| Complex components | 30 | Products $100-$1,000 |
| Semiconductors | 90 | Product name contains "chip", "wafer", "semiconductor" |
| Equipment | 60 | Products > $1,000 |

**Shipping Time Additions** (based on country of origin):

| Origin | Destination | Days Added | Method |
|--------|-------------|------------|--------|
| Domestic USA | USA | +3 | Truck |
| Continental | Same continent | +14 | Rail/Ship |
| Intercontinental | Asia → USA/Europe | +30 | Ship |
| Intercontinental | Europe → USA | +14 | Ship |

**Example Calculations**:
- Silicon wafer from Japan to USA: 90 (semiconductor base) + 30 (intercontinental) = 120 days
- Steel plate from USA domestic: 14 (basic component) + 3 (domestic) = 17 days
- Copper ore from Chile to USA: 7 (raw material) + 30 (intercontinental) = 37 days

**Rationale**: Semiconductor manufacturing requires extensive multi-step processes (lithography, doping, etching) taking 2-3 months. Ocean freight from Asia adds 3-4 weeks. Raw materials have minimal processing time but similar shipping constraints.

### Minimum Order Quantities (minimum_order_quantity)

**Purpose**: Estimate the smallest order quantity manufacturers will accept.

**Formula**: Scaled inversely with product price (higher price → lower MOQ)

| Price Range | MOQ (units) | Rationale |
|-------------|-------------|-----------|
| $0 - $10 | 10,000 | Commodity materials: economies of scale require bulk orders |
| $10 - $100 | 5,000 | Standard components: moderate batch sizes |
| $100 - $1,000 | 1,000 | Specialized parts: smaller production runs |
| $1,000 - $10,000 | 100 | Expensive equipment: custom/semi-custom |
| $10,000+ | 10 | Capital equipment: often made-to-order |

**Example**:
- Screws ($0.50 each): MOQ = 10,000 units ($5,000 order)
- PCB board ($50 each): MOQ = 5,000 units ($250,000 order)
- Industrial motor ($500 each): MOQ = 1,000 units ($500,000 order)
- CNC machine ($50,000 each): MOQ = 10 units ($500,000 order)

**Rationale**: Manufacturers amortize setup costs (tooling, programming, quality checks) across production runs. Cheaper items require larger runs to justify fixed costs. Expensive items are often semi-custom with high per-unit margins, allowing smaller minimums.

### Geopolitical Risk (geopolitical_risk)

**Purpose**: Assess supply chain disruption risk from political instability, trade restrictions, or regulatory changes.

**Formula**: Country-based risk classification

**Risk Levels**:

**Low Risk Countries**:
- USA, Germany, Japan, South Korea, Taiwan, Singapore
- Stable democracies with strong rule of law
- Predictable regulatory environments
- Low risk of trade disruptions or nationalization

**Medium Risk Countries**:
- China, Malaysia, Thailand, Poland, Czech Republic
- Generally stable but subject to occasional policy shifts
- Potential for trade tensions or regulatory changes
- Growing manufacturing hubs with moderate oversight

**High Risk Countries**:
- Russia, Venezuela, Myanmar, Zimbabwe
- Political instability or international sanctions
- Unpredictable regulatory environment
- History of supply chain disruptions

**Example Applications**:
- Chip from Taiwan: Low (despite geopolitical tensions, supply chain is robust)
- Rare earth elements from China: Medium (export restrictions possible)
- Mineral from Venezuela: High (sanctions, political instability)

**Rationale**: Based on World Bank governance indicators, Corruption Perceptions Index, and historical supply chain disruption data. Taiwan rated "Low" despite cross-strait tensions due to established, diversified semiconductor supply chains and international protections.

**Note on Data Format**: Geopolitical risk should be a single string value: "low", "medium", or "high". If you encounter array format like `["medium"]`, this is a data inconsistency that should be corrected to just `"medium"`.

### Price Volatility (price_volatility)

**Purpose**: Estimate how much a product's price fluctuates over time.

**Formula**: Category-based classification by product type

| Category | Volatility | Product Types | Example Products |
|----------|-----------|---------------|------------------|
| Commodities | Volatile | Metals, ores, oil, chemicals | Copper ore, crude oil, lithium |
| Manufactured | Moderate | Components, parts | PCBs, motors, sensors |
| Equipment | Stable | Machinery, tools | CNC machines, testing equipment |
| Services | Stable | Labor, consulting | Engineering services, logistics |

**Detection Logic**:
- Product name contains "ore", "metal", "oil", "gas" → Volatile
- Product name contains "equipment", "machine", "tool" → Stable
- Product name contains "service", "consulting", "labor" → Stable
- Default → Moderate

**Rationale**:
- **Commodities** trade on global exchanges with prices driven by supply/demand shocks, currency fluctuations, and speculation. Example: Copper prices ranged from $5,000-$10,000/ton (2020-2022).
- **Manufactured goods** have moderate volatility from input cost changes but benefit from contracts and inventory buffering.
- **Equipment** has stable pricing due to long sales cycles, customization, and service components.

### Transportation Method (transportation_method)

**Purpose**: Identify primary shipping method based on distance and value.

**Formula**: Distance and value-based selection

| Scenario | Method | Use Case |
|----------|--------|----------|
| Domestic USA | Truck | Cross-country shipping within USA |
| Regional Asia | Truck | Within China, Japan, Korea |
| Same continent | Rail | Europe, cross-border land transport |
| Intercontinental | Ship | Asia → USA/Europe, bulk goods |
| High value (>$10,000) | Air | Semiconductors, urgent parts, prototypes |

**Trade Routes** (from `data/relationships.json`):
- Asia → USA: Ship, 30 days, $2.50/kg
- Europe → USA: Ship, 14 days, $2.00/kg
- Asia → Europe: Ship, 35 days, $3.00/kg
- Domestic USA: Truck, 3 days, $0.50/kg
- Domestic Asia: Truck, 2 days, $0.30/kg

**Example**:
- Silicon wafers ($50, Taiwan → USA): Ship (standard intercontinental)
- Finished iPhones ($800, China → USA): Air (high value, time-sensitive)
- Steel coils ($500, domestic): Truck (heavy, regional)
- Coal (bulk, Australia → Japan): Ship (commodity bulk carrier)

**Rationale**: Transportation mode balances cost, speed, and cargo characteristics. Ships dominate intercontinental trade (90% of global freight by volume) due to low cost. Air freight is 5-10x more expensive but essential for high-value, time-sensitive goods.

### Certifications (certifications)

**Purpose**: Identify quality standards and compliance requirements by industry.

**Formula**: Industry-based certification assignment

| Industry | Certifications | Purpose |
|----------|---------------|---------|
| Semiconductors | ISO 9001, ISO 14001, IATF 16949 | Quality management, environmental, automotive |
| Chemicals | ISO 9001, ISO 14001, REACH, FDA | Quality, environmental, EU chemicals, US food/drug |
| Manufacturing | ISO 9001, ISO 14001, CE | Quality, environmental, EU product safety |
| Mining | ISO 9001, ISO 14001, ISO 45001 | Quality, environmental, occupational health |
| Software | ISO 27001, SOC 2, GDPR | Information security, data privacy |

**Common Certifications Explained**:
- **ISO 9001**: Quality management system standard (most common)
- **ISO 14001**: Environmental management system
- **ISO 45001**: Occupational health and safety
- **IATF 16949**: Automotive quality management (stricter than ISO 9001)
- **REACH**: EU regulation on chemicals
- **FDA**: US Food and Drug Administration approval
- **CE**: EU Conformité Européenne (product safety)
- **ISO 27001**: Information security management
- **SOC 2**: Service organization controls for security/privacy
- **GDPR**: EU General Data Protection Regulation compliance

**Rationale**: Industry certifications reflect regulatory requirements and customer expectations. Automotive suppliers need IATF 16949 for tier-1 qualification. Chemical companies must comply with REACH in EU markets. Software companies handling personal data need ISO 27001 and SOC 2 for enterprise customers.

**Note on Data Format**: Certifications should be stored as an array: `["ISO 9001", "ISO 14001"]`. If you encounter string format like `"ISO 9001, ISO 14001"`, this is a data inconsistency that should be corrected to array format.

## Company-Level Estimates

### Employee Count (employees)

**Purpose**: Estimate workforce size based on revenue and industry characteristics.

**Formula**: Revenue ÷ Revenue Per Employee (by industry)

| Industry | Revenue Per Employee | Rationale |
|----------|---------------------|-----------|
| Software | $500,000 | High-margin, knowledge work, scalable products |
| Semiconductors | $300,000 | Capital-intensive, technical staff, automation |
| Manufacturing | $200,000 | Labor-intensive, moderate margins |
| Mining | $250,000 | Capital equipment, skilled operators, safety requirements |
| Services | $150,000 | Labor-intensive, consulting, lower margins |

**Example Calculations**:
- Software company, $100M revenue: 100,000,000 ÷ 500,000 = 200 employees
- Manufacturing company, $500M revenue: 500,000,000 ÷ 200,000 = 2,500 employees
- Mining company, $1B revenue: 1,000,000,000 ÷ 250,000 = 4,000 employees

**Rationale**: Based on analysis of public company data. Software companies like Microsoft generate $500K+ per employee through scalable products. Manufacturing companies like Ford generate $200K per employee due to labor-intensive assembly. Mining companies (Rio Tinto) have high revenue per employee from capital-intensive extraction but require skilled operators.

**Industry Examples** (actual data):
- Microsoft: $211B revenue ÷ 221K employees = $954K per employee
- Apple: $394B revenue ÷ 164K employees = $2.4M per employee (includes retail margins)
- Ford: $136B revenue ÷ 173K employees = $786K per employee
- Rio Tinto: $55B revenue ÷ 47K employees = $1.2M per employee

Our estimates are conservative to account for smaller, less efficient companies.

### R&D Spending Percentage (rd_spending_pct)

**Purpose**: Estimate research and development investment as a percentage of revenue.

**Formula**: Industry average R&D spending

| Industry | R&D % of Revenue | Rationale |
|----------|-----------------|-----------|
| Software | 20% | Continuous innovation, competitive pressure, product development |
| Semiconductors | 15% | Process node advancement, design tools, fab technology |
| Pharmaceuticals | 18% | Drug discovery, clinical trials, regulatory approval |
| Manufacturing | 5% | Process improvements, automation, quality systems |
| Mining | 2% | Exploration, extraction efficiency, safety systems |
| Services | 8% | Tools, training, methodology development |

**Example**:
- Software startup ($50M revenue): $50M × 20% = $10M R&D budget
- Semiconductor fab ($5B revenue): $5B × 15% = $750M R&D budget
- Mining company ($2B revenue): $2B × 2% = $40M R&D budget

**Rationale**: Based on industry benchmarks from financial filings. Software and pharma have highest R&D due to innovation-driven competition. Manufacturing and mining have lower R&D as they optimize existing processes rather than inventing new products.

**Real-World Benchmarks**:
- Intel: $15.2B R&D on $63.1B revenue = 24% (high for semiconductor aging)
- Microsoft: $27.2B R&D on $211.9B revenue = 13%
- Pfizer: $13.8B R&D on $100.3B revenue = 14%
- Ford: $7.2B R&D on $136.3B revenue = 5%
- Rio Tinto: $1.1B R&D on $55B revenue = 2%

### Factory Locations (factory_locations)

**Purpose**: Estimate geographic distribution of manufacturing facilities.

**Formula**: Industry cluster-based distribution with capacity percentages

**Industry Clusters** (from `data/geo-clusters.json`):

**Semiconductors**:
- Taiwan (Hsinchu): 35%
- South Korea (Seoul): 25%
- USA (Arizona): 15%
- Japan (Tokyo): 15%
- China (Shanghai): 10%

**Mining**:
- Australia (Western Australia): 30%
- Chile (Atacama): 25%
- Peru (Arequipa): 15%
- China (Inner Mongolia): 15%
- Canada (Quebec): 15%

**Software**:
- USA (California): 40%
- USA (Washington): 15%
- India (Bangalore): 15%
- China (Beijing): 15%
- UK (London): 15%

**Chemicals**:
- Germany (Rhine-Ruhr): 25%
- USA (Texas): 25%
- China (Jiangsu): 20%
- Japan (Osaka): 15%
- Saudi Arabia (Jubail): 15%

**Manufacturing**:
- China (Guangdong): 35%
- USA (Midwest): 20%
- Germany (Bavaria): 15%
- Japan (Nagoya): 15%
- Mexico (Monterrey): 15%

**Location Selection Rules**:
- Large companies (name length > 10 chars): 3 locations
- Medium companies: 2 locations
- Small companies: 1 location

**Capacity Distribution**:
- Locations selected from top clusters based on company size
- Capacities distributed proportionally to cluster market share
- Total capacities sum to 100%

**Example**:
Large semiconductor company:
- Taiwan, Hsinchu: 50% capacity
- South Korea, Seoul: 30% capacity
- USA, Arizona: 20% capacity

Small mining company:
- Chile, Atacama: 100% capacity

**Rationale**: Manufacturing clusters form due to:
- **Proximity to inputs**: Semiconductor fabs in Asia near silicon suppliers
- **Skilled labor pools**: Software in Silicon Valley, Bangalore
- **Infrastructure**: Ports, power, transportation networks
- **Government incentives**: Tax breaks, subsidies for local production
- **Historical advantages**: Germany's chemical industry legacy

**Note on Data Format**: Factory locations should be stored as an array of objects with three fields:
```yaml
factory_locations:
  - country: "Taiwan"
    city: "Hsinchu"
    capacity_pct: 50
  - country: "USA"
    city: "Arizona"
    capacity_pct: 50
```

Capacity percentages should sum to approximately 100% (allowing for 1-2% rounding error).

### Founded Year (founded_year)

**Purpose**: Estimate company founding year.

**Formula**: Random year between 1950-2020

**Distribution Logic**:
- Manufacturing boom: 1950s-1970s (heavy industry, automotive)
- Technology revolution: 1980s-1990s (semiconductors, software)
- Modern startups: 2000s-2020s (cleantech, biotech, AI)

**Note**: This is the least reliable estimate as it's randomly assigned. In future improvements, founded year could be inferred from:
- Industry age (semiconductors → 1970s-1980s, software → 1990s-2000s)
- Company size (larger = likely older)
- Technology vintage (fab equipment makers → 1970s-1980s)

### Public/Private Status (public_private)

**Purpose**: Estimate whether company is publicly traded or privately held.

**Formula**: Revenue threshold

| Revenue | Status | Rationale |
|---------|--------|-----------|
| > $10 billion | Public | Very large companies typically go public for capital access |
| < $10 billion | Private | Smaller companies may remain private or family-owned |

**Example**:
- $50B revenue company: "public"
- $2B revenue company: "private"

**Rationale**: Companies go public (IPO) to access capital markets, provide liquidity to early investors, and enable acquisitions using stock. The $10B threshold captures most major public companies while acknowledging that many mid-sized manufacturers remain private or family-owned.

**Exceptions in reality** (not captured by this simple rule):
- Some very large companies remain private (Cargill: $165B revenue)
- Some smaller companies are public (many tech companies IPO at $1-2B revenue)
- Private equity buyouts take public companies private

## Continuous Improvement Strategy

Our estimation methodology improves over time through:

### 1. Progressive Enhancement
As we research the top 100 critical companies, we:
- Replace `data_quality: "estimated"` with `data_quality: "real"`
- Add `last_verified: "YYYY-MM-DD"` field
- Document sources in `data/real-data-sources.json`
- Use real data patterns to refine estimation rules

### 2. Algorithm Refinement
Compare estimated vs. real data to improve algorithms:
- If estimated lead times consistently differ from real data, adjust base times
- If employee counts systematically off, recalibrate revenue ratios
- Update country risk classifications based on actual disruption events

### 3. User Feedback
Allow users to:
- Report inaccurate estimates
- Submit corrections with sources
- Flag outdated information
- Suggest additional data points

### 4. Periodic Review
Schedule quarterly reviews to:
- Update country risk classifications (geopolitical changes)
- Refresh industry R&D benchmarks (annual report data)
- Revise cluster distributions (factory relocations, reshoring trends)
- Incorporate latest trade route data (shipping disruptions, new routes)

## Limitations and Transparency

### Known Limitations
1. **Aggregation**: Industry averages don't capture company-specific variations
2. **Temporal changes**: Real-world values change faster than estimates update
3. **Regional differences**: Country-level data misses regional/city variations within countries
4. **Simplified assumptions**: Linear revenue-to-employee ratios ignore economies of scale
5. **Missing context**: Estimates lack company-specific factors (automation level, vertical integration, business model)

### What We Don't Estimate
Some fields require real data and are left blank if unavailable:
- Specific product certifications beyond industry standards
- Exact contract terms and pricing (NDA-protected)
- Proprietary manufacturing processes
- Detailed financial breakdowns (cost structures)
- Strategic relationships and partnerships

### Transparency Commitment
Every estimated value is:
- Clearly marked with `data_quality: "estimated"` badge
- Traceable to this methodology document
- Subject to correction when real data becomes available
- Documented with the algorithm used for generation

## Using This Methodology

### For Data Consumers
When using estimated data:
- Treat as **directional guidance**, not precise values
- Use for **comparative analysis** (Company A vs B) rather than absolute decisions
- Verify critical data points independently for business decisions
- Check the `last_verified` date on real data for currency

### For Data Contributors
When submitting corrections:
- Provide source citations (URL, report name, page number)
- Include date of verification
- Note any assumptions or calculations made
- Distinguish between public data and estimates you're providing

### For Researchers
This methodology can be:
- Replicated for other supply chain databases
- Extended with additional data points (carbon footprint, labor practices)
- Improved with machine learning models trained on real data
- Validated against ground truth data as it becomes available

## Related Documentation

- **Research Workflow**: `/docs/research-workflow.md` - How to gather verified data for top 100 companies
- **Estimation Rules**: `/data/estimation-rules.json` - Machine-readable rules used by scripts
- **Geographic Clusters**: `/data/geo-clusters.json` - Industry location distributions
- **Relationships**: `/data/relationships.json` - Trade routes and certification mappings
- **Real Data Sources**: `/data/real-data-sources.json` - Citations for verified data

## Questions or Corrections

If you notice estimation errors or have suggestions for improvement:
1. Open an issue on GitHub with "Estimation Methodology" tag
2. Provide specific examples and supporting data
3. Suggest alternative algorithms or data sources
4. Help us improve transparency and accuracy

---

**Last Updated**: 2026-02-17
**Methodology Version**: 1.0
**Review Schedule**: Quarterly
